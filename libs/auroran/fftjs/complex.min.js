if(!FFT)var FFT={};!function(t){"use strict";function r(t,e,s,a,i,o,n,c,f){var h=c.shift(),v=c.shift();if(1==v)for(var l=0;l<h*v;l++){var u=a[2*(i+o*n*l)],d=a[2*(i+o*n*l)+1];t[2*(e+s*l)]=u,t[2*(e+s*l)+1]=d}else for(l=0;l<h;l++)r(t,e+s*l*v,s,a,i+l*o*n,o*h,n,c.slice(),f);switch(h){case 2:!function(t,r,e,s,a,i){for(var o=a.twiddle,n=0;n<i;n++){var c=t[2*(r+e*n)],f=t[2*(r+e*n)+1],h=t[2*(r+e*(n+i))],v=t[2*(r+e*(n+i))+1],l=o[2*(0+s*n)],u=o[2*(0+s*n)+1],d=h*l-v*u,w=h*u+v*l,p=c+d,g=f+w,F=c-d,b=f-w;t[2*(r+e*n)]=p,t[2*(r+e*n)+1]=g,t[2*(r+e*(n+i))]=F,t[2*(r+e*(n+i))+1]=b}}(t,e,s,o,f,v);break;case 3:!function(t,r,e,s,a,i){for(var o=a.twiddle,n=i,c=2*i,f=s,h=2*s,v=o[2*(0+s*i)+1],l=0;l<i;l++){var u=t[2*(r+e*l)],d=t[2*(r+e*l)+1],w=t[2*(r+e*(l+n))],p=t[2*(r+e*(l+n))+1],g=o[2*(0+f*l)],F=o[2*(0+f*l)+1],b=w*g-p*F,k=w*F+p*g,y=t[2*(r+e*(l+c))],M=t[2*(r+e*(l+c))+1],m=o[2*(0+h*l)],E=o[2*(0+h*l)+1],R=y*m-M*E,A=y*E+M*m,T=b+R,x=k+A,S=u+T,q=d+x;t[2*(r+e*l)]=S,t[2*(r+e*l)+1]=q;var I=u-.5*T,P=d-.5*x,Y=(b-R)*v,j=(k-A)*v,z=I-j,B=P+Y;t[2*(r+e*(l+n))]=z,t[2*(r+e*(l+n))+1]=B;var C=I+j,D=P-Y;t[2*(r+e*(l+c))]=C,t[2*(r+e*(l+c))+1]=D}}(t,e,s,o,f,v);break;case 4:!function(t,r,e,s,a,i){for(var o=a.twiddle,n=i,c=2*i,f=3*i,h=s,v=2*s,l=3*s,u=0;u<i;u++){var d=t[2*(r+e*u)],w=t[2*(r+e*u)+1],p=t[2*(r+e*(u+n))],g=t[2*(r+e*(u+n))+1],F=o[2*(0+h*u)],b=o[2*(0+h*u)+1],k=p*F-g*b,y=p*b+g*F,M=t[2*(r+e*(u+c))],m=t[2*(r+e*(u+c))+1],E=o[2*(0+v*u)],R=o[2*(0+v*u)+1],A=M*E-m*R,T=M*R+m*E,x=t[2*(r+e*(u+f))],S=t[2*(r+e*(u+f))+1],q=o[2*(0+l*u)],I=o[2*(0+l*u)+1],P=x*q-S*I,Y=x*I+S*q,j=d+A,z=w+T,B=d-A,C=w-T,D=k+P,G=y+Y,H=k-P,J=y-Y,K=j+D,L=z+G;if(a.inverse)var N=B-J,O=C+H;else N=B+J,O=C-H;var Q=j-D,U=z-G;if(a.inverse)var V=B+J,W=C-H;else V=B-J,W=C+H;t[2*(r+e*u)]=K,t[2*(r+e*u)+1]=L,t[2*(r+e*(u+n))]=N,t[2*(r+e*(u+n))+1]=O,t[2*(r+e*(u+c))]=Q,t[2*(r+e*(u+c))+1]=U,t[2*(r+e*(u+f))]=V,t[2*(r+e*(u+f))+1]=W}}(t,e,s,o,f,v);break;default:!function(t,r,e,s,a,i,o){for(var n=a.twiddle,c=a.n,f=new Float64Array(2*o),h=0;h<i;h++){for(var v=0,l=h;v<o;v++,l+=i){var u=t[2*(r+e*l)],d=t[2*(r+e*l)+1];f[2*v]=u,f[2*v+1]=d}for(v=0,l=h;v<o;v++,l+=i){var w=0;u=f[0],d=f[1],t[2*(r+e*l)]=u,t[2*(r+e*l)+1]=d;for(var p=1;p<o;p++){w=(w+s*l)%c;var g=t[2*(r+e*l)],F=t[2*(r+e*l)+1],b=f[2*p],k=f[2*p+1],y=n[2*w],M=n[2*w+1],m=g+(b*y-k*M),E=F+(b*M+k*y);t[2*(r+e*l)]=m,t[2*(r+e*l)+1]=E}}}}(t,e,s,o,f,v,h)}}var e=function(t,r){if(arguments.length<2)throw new RangeError("You didn't pass enough arguments, passed `"+arguments.length+"'");r=!!r;if((t=~~t)<1)throw new RangeError("n is outside range, should be positive integer, was `"+t+"'");for(var e={n:t,inverse:r,factors:[],twiddle:new Float64Array(2*t),scratch:new Float64Array(2*t)},s=e.twiddle,a=2*Math.PI/t,i=0;i<t;i++){if(r)var o=a*i;else o=-a*i;s[2*i]=Math.cos(o),s[2*i+1]=Math.sin(o)}for(var n=4,c=Math.floor(Math.sqrt(t));t>1;){for(;t%n;){switch(n){case 4:n=2;break;case 2:n=3;break;default:n+=2}n>c&&(n=t)}t/=n,e.factors.push(n),e.factors.push(t)}this.state=e};e.prototype.simple=function(t,r,e){this.process(t,0,1,r,0,1,e)},e.prototype.process=function(t,e,s,a,i,o,n){o=~~o;var c="real"==n?n:"complex";if((s=~~s)<1)throw new RangeError("outputStride is outside range, should be positive integer, was `"+s+"'");if(o<1)throw new RangeError("inputStride is outside range, should be positive integer, was `"+o+"'");if("real"==c){for(var f=0;f<this.state.n;f++){var h=a[i+o*f],v=0;this.state.scratch[2*f]=h,this.state.scratch[2*f+1]=v}r(t,e,s,this.state.scratch,0,1,1,this.state.factors.slice(),this.state)}else if(a==t){r(this.state.scratch,0,1,a,i,1,o,this.state.factors.slice(),this.state);for(f=0;f<this.state.n;f++){h=this.state.scratch[2*f],v=this.state.scratch[2*f+1];t[2*(e+s*f)]=h,t[2*(e+s*f)+1]=v}}else r(t,e,s,a,i,1,o,this.state.factors.slice(),this.state)},t.complex=e}(FFT);
